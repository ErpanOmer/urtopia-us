# README.md 重构计划

## 分析总结
该项目是一个 **Shopify 主题开发项目**，用于 Urtopia 电动自行车电商网站。技术栈包括 Shopify Liquid、Tailwind CSS、Node.js 工具链，支持 30+ 语言。

## 重构内容

### 1. 项目概述
- 项目背景：Urtopia 电动自行车美国市场 Shopify 主题
- 主要功能：产品展示、购物车、多语言支持、营销活动管理
- 技术架构：Liquid 模板引擎 + Tailwind CSS + Shopify CLI
- 适用场景：电商网站主题开发与维护

### 2. 环境要求
- Node.js 18+
- Shopify CLI
- 操作系统：Windows/macOS/Linux
- 硬件推荐：8GB+ RAM, SSD

### 3. 依赖项说明
- **核心依赖**: 无（纯开发依赖）
- **开发依赖**: Tailwind CSS v3.4.17、PostCSS、Autoprefixer、npm-run-all
- **安装方法**: `npm install`
- **常见问题**: 使用淘宝镜像源（已配置）

### 4. 开发指南
- 项目结构详解（assets/sections/snippets/templates/locales/）
- 开发流程规范（本地开发 → 实时同步 → 测试）
- 编码规范：Liquid 模板规范、Tailwind CSS 使用规范
- 分支管理：master 主分支 + 版本备份分支（vYYYY.MM.DD）

### 5. 配置说明
- **配置文件**: config.yml（Shopify 连接配置）、tailwind.config.js（样式配置）
- **环境变量**: Shopify API 密钥（在 config.yml 中）
- **环境差异**: 开发环境（theme watch）vs 生产环境（theme push）
- **自定义配置**: settings_schema.json 主题自定义设置

### 6. 常用命令
- **开发**: `npm run dev`（启动开发服务器）
- **构建**: `npm run css`（编译 Tailwind CSS）
- **同步**: `npm run pull`（拉取线上版本）
- **备份**: `npm run backup`（创建版本备份）
- **部署**: `npm run push`（强制推送到 Git）
- **Shopify 同步**: `npm run shopify:sync`（增量同步到 Shopify）

### 7. Git Hooks 行为说明
- **pre-push**: 自动同步最后提交的 Shopify 主题文件到线上
- **执行逻辑**: 检测 master 分支 → 获取变更文件 → 过滤主题文件 → 执行 shopify theme push
- **自定义方法**: 编辑 `.git/hooks/pre-push` 文件

### 8. 代码备份策略
- **备份命令**: `npm run backup`
- **备份逻辑**: 创建 vYYYY.MM.DD 分支 → 推送到远程 → 切回 master
- **备份频率**: 建议每日或重要变更前执行

## 输出文件
将生成一份专业、结构化的 README.md 文件，包含上述所有内容，使用 Markdown 格式，便于查阅和维护。