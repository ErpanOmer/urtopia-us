<div class="background-image er-aspect-[5/1] er-text-white er-flex er-flex-col er-justify-center er-items-center er-font-base er-text-center mb:er-aspect-square er-px-12">
        {% render 'image', first_screen: true, src: "https://cdn.shopify.com/s/files/1/0583/5810/4213/files/Group_21336.webp?v=1739850283" %}
        <div class="background-mask er-bg-black/60"></div>
        <h1 class="er-text-7xl mb:er-text-5xl er-text-white er-m-0 mb:er-leading-snug">Partner with Urtopia—Shape the Future of E-Mobility!</h1>
    </div>
    <div class="er-max-w-screen-md er-mx-auto er-px-12 er-my-48 er-text-dark/80 text-size20 er-block mb:er-my-16 mb:er-text-3xl">
        <p class="mb:er-text-2xl">
            <span>
              Are you passionate about e-bikes and well-connected in the business world? Join us in expanding the Urtopia sales network and building an exceptional brand together. Whether you’re an aspiring dealer looking to sell Urtopia e-bikes or an ambitious sales representative seeking generous commissions, we offer exciting opportunities with strong earning potential.
              <br><br>
              Independent Bicycle Dealers are reaching out to us every day—secure your spot before your area is taken!
              <br><br>
              Fill out the form below or contact us directly, and we’ll be in touch if there’s a fit.
            </span>
        </p>
        <br>
        <p class="mb:er-text-2xl">
          Contact:<br>
          Sales Director: <a class="er-button er-button-text er-font-bold" href="mailto:xing.yuan@newurtopia.com"><b>Xing Yuan</b></a><br>
          Email: <a class="er-button er-button-text er-font-bold" href="mailto:xing.yuan@newurtopia.com"><b>xing.yuan@newurtopia.com</b></a><br>
          Phone: <a class="er-button er-button-text er-font-bold" href="tel:+(951)824 4915">(951)824 4915</a>
        </p>
    </div>
    <form id="form"
        class="er-max-w-screen-md er-mx-auto er-px-12 er-my-48 er-text-dark/90 er-space-y-12 er-box-border er-flex er-flex-col er-overflow-hidden mb:er-my-16">
        <fieldset class="er-grid er-grid-cols-2 er-gap-x-12 er-space-y-6 er-border-0 er-p-0 mb:er-grid-cols-1">
            <legend class="text-size24 mb:er-text-3xl">You want to be:<span class="er-text-red-500">*</span></legend>
            <label for="dealers"
                class="er-box-border er-w-full er-flex er-items-center er-justify-start er-border-solid er-border-2 er-border-primary/90 er-rounded-3xl er-cursor-pointer er-p-6 er-transition-all er-shadow er-transform hover:er-scale-105 hover:er-shadow-lg">
                <input type="radio" id="dealers" name="rule" value="dealers" class="er-hidden" checked>
                <svg xmlns="http://www.w3.org/2000/svg" height="80px" viewBox="0 -960 960 960" width="80px" class="er-fill-primary/90"><path d="M30.67-144.22v-165.5q0-36.15 25.18-60.82 25.17-24.68 60.32-24.68h132.44q20.72 0 37.88 9.29 17.16 9.28 27.68 25.56 29.48 40.2 72.94 62.67 43.46 22.48 92.89 22.48 50.2 0 93.77-22.48 43.58-22.47 72.3-62.67 12.04-16.28 28.82-25.56 16.78-9.29 36.5-9.29h132.68q36.15 0 60.82 24.68 24.68 24.67 24.68 60.82v165.5h-291v-93.15q-35 23.57-75.15 35.97Q523.28-189 480-189q-42.28 0-82.8-12.78-40.53-12.78-75.53-36.35v93.91h-291ZM480-320q-36.8 0-69.73-17.02-32.92-17.02-55.2-47.07-18.44-26.91-45.49-41.41-27.06-14.5-59.45-14.5 24.39-36.52 95.63-58.62Q417-520.72 480-520.72q63 0 134.36 22.1 71.36 22.1 95.75 58.62-31.63 0-59.07 14.38-27.43 14.38-45.87 41.53-21.28 30.81-54.32 47.45Q517.8-320 480-320ZM160-444.78q-50.96 0-86.67-35.72-35.72-35.72-35.72-86.67 0-51.72 35.72-87.06 35.71-35.34 86.67-35.34 51.72 0 87.05 35.34 35.34 35.34 35.34 87.06 0 50.95-35.34 86.67-35.33 35.72-87.05 35.72Zm640 0q-50.96 0-86.67-35.72-35.72-35.72-35.72-86.67 0-51.72 35.72-87.06 35.71-35.34 86.67-35.34 51.72 0 87.05 35.34 35.34 35.34 35.34 87.06 0 50.95-35.34 86.67-35.33 35.72-87.05 35.72Zm-320-125.5q-50.96 0-86.67-35.72-35.72-35.72-35.72-86.67 0-51.72 35.72-87.06 35.71-35.34 86.67-35.34 51.72 0 87.05 35.34 35.34 35.34 35.34 87.06 0 50.95-35.34 86.67-35.33 35.72-87.05 35.72Z"/></svg>
                <div class="er-flex er-flex-col er-items-end er-ml-6 er-flex-1 er-text-right">
                    <span class="text-size20 er-font-medium er-text-primary/90 mb:er-text-2xl mb:er-whitespace-nowrap">Aspiring Dealers</span>
                    <svg xmlns="http://www.w3.org/2000/svg" height="36px" viewBox="0 -960 960 960" width="36px"
                        class="er-fill-primary/90 er-mt-4">
                        <path
                            d="M480-60.78q-87.52 0-163.91-32.96-76.38-32.96-132.88-89.47-56.51-56.5-89.47-132.88Q60.78-392.48 60.78-480t32.96-163.91q32.96-76.38 89.47-132.88 56.5-56.51 132.88-89.47 76.39-32.96 163.91-32.96 65 0 123 17.87t108.13 50.74l-77.78 78.78q-34.61-19.47-72.71-30.43-38.11-10.96-80.64-10.96-130.18 0-221.7 91.24-91.52 91.24-91.52 221.98t91.52 221.98q91.52 91.24 221.69 91.24 130.18 0 221.71-91.24 91.52-91.24 91.52-221.98 0-14.42-1.44-28.83-1.43-14.42-4.3-28.04l87.04-87.04q12.13 33.69 18.42 69.64 6.28 35.96 6.28 74.03 0 87.76-32.96 164.15-32.96 76.38-89.47 132.88-56.5 56.51-132.88 89.47Q567.52-60.78 480-60.78ZM422.3-284.7 243.83-463.17 315.09-535 422.3-427.78l405.09-406.09 71.83 71.83L422.3-284.7Z" />
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" height="36px" viewBox="0 -960 960 960" width="36px"
                        class="er-fill-dark/90 er-mt-4 er-hidden">
                        <path
                            d="M480-60.78q-87.52 0-163.91-32.96-76.38-32.96-132.88-89.47-56.51-56.5-89.47-132.88Q60.78-392.48 60.78-480t32.96-163.91q32.96-76.38 89.47-132.88 56.5-56.51 132.88-89.47 76.39-32.96 163.91-32.96t163.91 32.96q76.38 32.96 132.88 89.47 56.51 56.5 89.47 132.88 32.96 76.39 32.96 163.91t-32.96 163.91q-32.96 76.38-89.47 132.88-56.5 56.51-132.88 89.47Q567.52-60.78 480-60.78Zm0-106q131.74 0 222.48-90.74 90.74-90.74 90.74-222.48t-90.74-222.48Q611.74-793.22 480-793.22t-222.48 90.74Q166.78-611.74 166.78-480t90.74 222.48q90.74 90.74 222.48 90.74ZM480-480Z" />
                    </svg>
                </div>
            </label>
            <label for="sales_reps"
                class="er-box-border er-w-full er-flex er-items-center er-justify-start er-border-solid er-border-2 er-border-dark/90 er-rounded-3xl er-cursor-pointer er-p-6 er-opacity-60 er-transition-all er-shadow er-transform hover:er-scale-105 hover:er-shadow-lg">
                <input type="radio" id="sales_reps" name="rule" value="sales_reps" class="er-hidden">
                <svg xmlns="http://www.w3.org/2000/svg" height="65px" viewBox="0 -960 960 960" width="80px" class="er-fill-dark/90"><path d="M71.87-30.43v-88.61h816.26v88.61H71.87Zm79.76-128.61v-245.98q-34.91-57.11-53.15-117.49-18.24-60.38-18.24-122.42 0-58.85 15.14-119.77 15.14-60.91 37.1-120.3 8.48-22.2 27.59-35.65 19.11-13.46 42.47-13.46 31.24 0 53.6 21.72 22.36 21.72 19.32 52.15l-8.37 96.5q-4.57 47.28 10.53 89.45 15.1 42.16 44.34 74.06 29.24 31.9 70 50.81 40.76 18.9 88.04 18.9 62.15 0 122.65 11.9 60.5 11.9 105.26 34.18 48.35 23.72 74.17 61.97 25.81 38.25 25.81 93.36v170.07H151.63Zm88.61-88.61h479.04v-81.46q0-24.66-12.36-43.67-12.35-19-35.55-30.72-37.41-18.57-89.74-28.49-52.33-9.92-101.63-9.92-64.57 0-120.59-25.33-56.02-25.33-96.24-68.31-40.21-42.99-62.13-99.74-21.91-56.75-17.74-119.08-7.6 22.83-11.03 53.96-3.42 31.13-3.42 55.48 0 58.47 21.57 111.26 21.58 52.78 49.82 104.26v181.76ZM480-570.52q-67.91 0-116.11-48.2-48.19-48.19-48.19-116.11 0-67.91 48.19-116.11 48.2-48.19 116.11-48.19t116.11 48.19q48.19 48.2 48.19 116.11 0 67.92-48.19 116.11-48.2 48.2-116.11 48.2Zm0-88.61q31.22 0 53.46-22.24 22.24-22.23 22.24-53.46 0-31.22-22.24-53.46-22.24-22.23-53.46-22.23-31.22 0-53.46 22.23-22.24 22.24-22.24 53.46 0 31.23 22.24 53.46 22.24 22.24 53.46 22.24ZM319.04-159.04v-43.94q0-69.63 48.31-119.06 48.31-49.44 117.91-49.44h147.09v83.83H485.26q-35.02 0-58.7 24.86-23.69 24.86-23.69 59.81v43.94h-83.83ZM480-247.65Zm0-487.18Z"/></svg>
                <div class="er-flex er-flex-col er-items-end er-ml-6 er-flex-1 er-text-right">
                    <span class="text-size20 er-font-medium mb:er-text-2xl mb:er-whitespace-nowrap">Ambitious Sales Reps</span>
                    <svg xmlns="http://www.w3.org/2000/svg" height="36px" viewBox="0 -960 960 960" width="36px"
                        class="er-fill-primary/90 er-mt-4 er-hidden">
                        <path
                            d="M480-60.78q-87.52 0-163.91-32.96-76.38-32.96-132.88-89.47-56.51-56.5-89.47-132.88Q60.78-392.48 60.78-480t32.96-163.91q32.96-76.38 89.47-132.88 56.5-56.51 132.88-89.47 76.39-32.96 163.91-32.96 65 0 123 17.87t108.13 50.74l-77.78 78.78q-34.61-19.47-72.71-30.43-38.11-10.96-80.64-10.96-130.18 0-221.7 91.24-91.52 91.24-91.52 221.98t91.52 221.98q91.52 91.24 221.69 91.24 130.18 0 221.71-91.24 91.52-91.24 91.52-221.98 0-14.42-1.44-28.83-1.43-14.42-4.3-28.04l87.04-87.04q12.13 33.69 18.42 69.64 6.28 35.96 6.28 74.03 0 87.76-32.96 164.15-32.96 76.38-89.47 132.88-56.5 56.51-132.88 89.47Q567.52-60.78 480-60.78ZM422.3-284.7 243.83-463.17 315.09-535 422.3-427.78l405.09-406.09 71.83 71.83L422.3-284.7Z" />
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" height="36px" viewBox="0 -960 960 960" width="36px"
                        class="er-fill-dark/90 er-mt-4">
                        <path
                            d="M480-60.78q-87.52 0-163.91-32.96-76.38-32.96-132.88-89.47-56.51-56.5-89.47-132.88Q60.78-392.48 60.78-480t32.96-163.91q32.96-76.38 89.47-132.88 56.5-56.51 132.88-89.47 76.39-32.96 163.91-32.96t163.91 32.96q76.38 32.96 132.88 89.47 56.51 56.5 89.47 132.88 32.96 76.39 32.96 163.91t-32.96 163.91q-32.96 76.38-89.47 132.88-56.5 56.51-132.88 89.47Q567.52-60.78 480-60.78Zm0-106q131.74 0 222.48-90.74 90.74-90.74 90.74-222.48t-90.74-222.48Q611.74-793.22 480-793.22t-222.48 90.74Q166.78-611.74 166.78-480t90.74 222.48q90.74 90.74 222.48 90.74ZM480-480Z" />
                    </svg>
                </div>
            </label>
        </fieldset>
        <div class="er-grid er-grid-cols-2 er-gap-12 mb:er-grid-cols-1">
            <fieldset class="er-flex er-flex-col er-space-y-6 er-border-0 er-p-0">
                <label for="firstname" class="text-size24 mb:er-text-3xl">First name:<span class="er-text-red-500">*</span></label>
                <input type="text" id="firstname" name="firstname"
                    class="mb:er-text-2xl er-box-border er-font-base er-w-full er-border-2 er-border-dark/30 placeholder:er-text-black/15 er-border-solid er-rounded-xl er-text-dark/85 er-text-3xl er-p-4 focus:er-border-primary/80 focus-visible:er-border-primary/80 focus:er-ring-primary focus:er-shadow-primary"
                    required>
            </fieldset>
            <fieldset class="er-flex er-flex-col er-space-y-6 er-border-0 er-p-0">
                <label for="lastname" class="text-size24 mb:er-text-3xl">Last name:<span class="er-text-red-500">*</span></label>
                <input type="text" id="lastname" name="lastname"
                    class="mb:er-text-2xl er-box-border er-font-base er-w-full er-border-2 er-border-dark/30 placeholder:er-text-black/15 er-border-solid er-rounded-xl er-text-dark/85 er-text-3xl er-p-4 focus:er-border-primary/80 focus-visible:er-border-primary/80 focus:er-ring-primary focus:er-shadow-primary"
                    required>
            </fieldset>
        </div>
        <div class="er-grid er-grid-cols-2 er-gap-12 mb:er-grid-cols-1">
            <fieldset class="er-flex er-flex-col er-space-y-6 er-border-0 er-p-0">
                <label for="email" class="text-size24 mb:er-text-3xl">Email:<span class="er-text-red-500">*</span></label>
                <input type="email" id="email" name="email"
                    class="mb:er-text-2xl er-box-border er-font-base er-w-full er-border-2 er-border-dark/30 placeholder:er-text-black/15 er-border-solid er-rounded-xl er-text-dark/85 er-text-3xl er-p-4 focus:er-border-primary/80 focus-visible:er-border-primary/80 focus:er-ring-primary focus:er-shadow-primary"
                    required>
            </fieldset>
            <fieldset class="er-flex er-flex-col er-space-y-6 er-border-0 er-p-0">
                <label for="phonenumber" class="text-size24 mb:er-text-3xl">Phone number:<span class="er-text-red-500">*</span></label>
                <input type="text" id="phonenumber" name="phonenumber"
                    class="mb:er-text-2xl er-box-border er-font-base er-w-full er-border-2 er-border-dark/30 placeholder:er-text-black/15 er-border-solid er-rounded-xl er-text-dark/85 er-text-3xl er-p-4 focus:er-border-primary/80 focus-visible:er-border-primary/80 focus:er-ring-primary focus:er-shadow-primary"
                    required>
            </fieldset>
        </div>
        <div class="er-grid er-grid-cols-2 er-gap-12 mb:er-grid-cols-1">
            <fieldset class="er-flex er-flex-col er-space-y-6 er-border-0 er-p-0">
                <label for="shopname" class="text-size24 mb:er-text-3xl">Name of shop/store:<span
                        class="er-text-red-500">*</span></label>
                <input type="text" id="shopname" name="shopname"
                    class="mb:er-text-2xl er-box-border er-font-base er-w-full er-border-2 er-border-dark/30 placeholder:er-text-black/15 er-border-solid er-rounded-xl er-text-dark/85 er-text-3xl er-p-4 focus:er-border-primary/80 focus-visible:er-border-primary/80 focus:er-ring-primary focus:er-shadow-primary"
                    required>
            </fieldset>
            <fieldset class="er-flex er-flex-col er-space-y-6 er-border-0 er-p-0">
                <label for="brand_scarried" class="text-size24 mb:er-text-3xl">Brands carried:<span
                        class="er-text-red-500">*</span></label>
                <input type="text" id="brand_scarried" name="brand_scarried"
                    class="mb:er-text-2xl er-box-border er-font-base er-w-full er-border-2 er-border-dark/30 placeholder:er-text-black/15 er-border-solid er-rounded-xl er-text-dark/85 er-text-3xl er-p-4 focus:er-border-primary/80 focus-visible:er-border-primary/80 focus:er-ring-primary focus:er-shadow-primary"
                    required>
            </fieldset>
        </div>
        <fieldset class="er-flex er-flex-col er-space-y-6 er-border-0 er-p-0">
                <label for="sales_estimate" class="text-size24 mb:er-text-3xl">Sales estimate for 1st year (# of e-bikes) :<span
                        class="er-text-red-500">*</span></label>
                <input type="text" id="sales_estimate" name="sales_estimate"
                    class="mb:er-text-2xl er-box-border er-font-base er-w-full er-border-2 er-border-dark/30 placeholder:er-text-black/15 er-border-solid er-rounded-xl er-text-dark/85 er-text-3xl er-p-4 focus:er-border-primary/80 focus-visible:er-border-primary/80 focus:er-ring-primary focus:er-shadow-primary"
                    required>
            </fieldset>
        <fieldset class="er-flex er-flex-col er-space-y-6 er-border-0 er-p-0">
            <label for="address" class="text-size24 mb:er-text-3xl">Shop Location:<span class="er-text-red-500">*</span></label>
            <input type="text" id="address" name="address"
                class="mb:er-text-2xl er-box-border er-font-base er-w-full er-border-2 er-border-dark/30 placeholder:er-text-black/15 er-border-solid er-rounded-xl er-text-dark/85 er-text-3xl er-p-4 focus:er-border-primary/80 focus-visible:er-border-primary/80 focus:er-ring-primary focus:er-shadow-primary"
                required>
        </fieldset>
        <fieldset class="er-flex er-flex-col er-space-y-6 er-border-0 er-p-0">
            <label for="website" class="text-size24 mb:er-text-3xl">Website (optional):</label>
            <input type="text" id="website" name="website"
                class="mb:er-text-2xl er-box-border er-font-base er-w-full er-border-2 er-border-dark/30 placeholder:er-text-black/15 er-border-solid er-rounded-xl er-text-dark/85 er-text-3xl er-p-4 focus:er-border-primary/80 focus-visible:er-border-primary/80 focus:er-ring-primary focus:er-shadow-primary">
        </fieldset>
        <fieldset class="er-flex er-flex-col er-space-y-6 er-border-0 er-p-0">
            <label for="comments" class="text-size24 mb:er-text-3xl">What else you want us to know (optional):</label>
            <input type="text" id="comments" name="comments"
                class="mb:er-text-2xl er-box-border er-font-base er-w-full er-border-2 er-border-dark/30 placeholder:er-text-black/15 er-border-solid er-rounded-xl er-text-dark/85 er-text-3xl er-p-4 focus:er-border-primary/80 focus-visible:er-border-primary/80 focus:er-ring-primary focus:er-shadow-primary">
        </fieldset>
        <fieldset
            class="er-flex er-flex-col er-space-y-6 er-relative !er-cursor-pointer er-overflow-hidden er-max-w-screen-md er-hidden er-border-0 er-p-0">
            <label for="resume" class="text-size24 mb:er-text-3xl">Resume upload:<span class="er-text-red-500">*</span></label>
            <input type="hidden" id="resume" name="resume"
                class="er-opacity-0 er-absolute er-inset-0 mb:er-text-2xl er-box-border er-font-base er-w-full er-border-2 er-border-dark/30 placeholder:er-text-black/15 er-border-solid er-rounded-xl er-text-dark/85 er-text-3xl er-p-4 focus:er-border-primary/80 focus-visible:er-border-primary/80 focus:er-ring-primary focus:er-shadow-primary"
                required>
            <div
                class="er-border-solid er-border-2 er-border-dark/30 er-rounded-xl er-min-h-80 er-flex er-flex-col er-items-center er-justify-center er-text-center er-p-12">
                <svg xmlns="http://www.w3.org/2000/svg" height="48px" viewBox="0 -960 960 960" width="48px"
                    class="er-fill-dark/70 er-mb-6">
                    <path
                        d="M260.72-151.87q-94.37 0-161.25-65.15T32.59-376.28q0-80.39 47.36-143.67 47.35-63.27 125.03-80.75 26.43-92.95 102.63-150.19Q383.8-808.13 480-808.13q118.2 0 201.25 81.74t85.68 199.69q69.72 10.63 115.1 63.81 45.38 53.17 45.38 123.61 0 78.09-55.01 132.75t-133.12 54.66H529.09q-37.54 0-64.27-26.73-26.73-26.73-26.73-64.27v-191.41l-65.68 64.15-58.63-58.39L480-594.98l166.22 166.46-58.63 58.39-65.68-64.15v191.41h217.37q40.57 0 68.85-28.28 28.28-28.28 28.28-68.85 0-40.57-28.28-68.85-28.28-28.28-68.85-28.28h-62.87v-83.59q0-81.51-57.45-138.96T480-717.13q-82.04 0-139.23 58.74-57.18 58.74-57.18 141.26h-22.87q-56.81 0-96.97 40.16T123.59-380q0 56.8 40.16 96.97 40.16 40.16 96.97 40.16h97.37v91h-97.37ZM480-434.5Z" />
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" height="48px" viewBox="0 -960 960 960" width="48px"
                    class="er-fill-dark/70 er-mb-6 er-hidden file">
                    <path
                        d="M242.87-71.87q-37.78 0-64.39-26.61t-26.61-64.39v-634.26q0-37.78 26.61-64.39t64.39-26.61h320.48l244.78 244.78v480.48q0 37.78-26.61 64.39t-64.39 26.61H242.87Zm274.26-525.26v-200H242.87v634.26h474.26v-434.26h-200Zm-274.26-200v200-200 634.26-634.26Z" />
                </svg>
                <span class="text-size20 er-text-dark/70" style="word-break: break-word;">Browse For Files</span>
            </div>
        </fieldset>
        <button type="submit" class="er-button !er-w-full er-mx-auto !er-mt-20">Submit</button>
    </form>
    <div class="er-max-w-screen-md mb:er-my-20 er-mx-auto er-px-12 er-my-48 er-text-dark/90 er-space-y-12 er-box-border er-flex-col er-overflow-hidden thankyou er-items-center er-justify-center er-text-center er-hidden">
        <svg viewBox="64 64 896 896" focusable="false" class="er-fill-green-600" width="96" height="96"  aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"></path></svg>
        <h1 class="text-size60 mb:er-text-6xl">Thank You!</h1>
        <p class="text-size18">
            <span>We will get back to you as soon as possible with a response🙂</span>
        </p>
    </div>

<script type="module">
  const changes = ['shopname', 'brand_scarried', 'address', 'website', 'comments', 'sales_estimate'];
  $(document).on('submit', `#form`, function (event) {
      event.preventDefault(); // 防止表单提交（为了演示）

      const values = {}
      // 获取表单的所有数据
      for (const { name, value } of $(this).serializeArray()) {
          values[name] = value
      }

      if (values.rule === 'sales_reps') {
          values.file = $(`#form input[type='file']`).attr('data-file-url')
      }

      this.reset();

      $('.thankyou').addClass('er-flex').removeClass('er-hidden');
      $(this).hide();

      fetchBuried('dealers_and_salesreps', 'submit', values);
      return false
  });

  // 监听单选按钮的值变化
  $(document).on('change', `#form input[type="radio"]`, function () {
        const label = $(`#form input[type='radio']`).closest('label');
        label.find('span').removeClass('er-text-primary/90').addClass('er-text-dark/90');
        label.find('svg').removeClass('er-fill-primary/90').addClass('er-fill-dark/90')
        label.find('div > svg').toggleClass("er-hidden");
        label.removeClass('er-border-primary/90').addClass('er-border-dark/90').addClass('er-opacity-60');

        const target = $(this).closest('label')
        target.find('span').addClass('er-text-primary/90').removeClass('er-text-dark/90')
        target.find('svg').addClass('er-fill-primary/90').removeClass('er-fill-dark/90')
        target.addClass('er-border-primary/90').removeClass('er-border-dark/90').removeClass('er-opacity-60')

        for (const name of changes) {
            if ($(this).val() === 'sales_reps') {
                $(`#form input[name='${name}']`).attr('type', 'hidden').closest('fieldset').hide()
            } else {
                $(`#form input[name='${name}']`).attr('type', 'text').closest('fieldset').show()
            }
        }

        if ($(this).val() === 'sales_reps') {
            $(`#form input[name='resume']`).attr('type', 'file').closest('fieldset').show()
        } else {
            $(`#form input[name='resume']`).attr('type', 'hidden').closest('fieldset').hide()
        }

        // $(`#form`)[0].reset()
  });

  // 监听文件选择事件
  $(document).on('change', `#form input[name='resume']`, function (event) {
            const target = event.target
            const file = target.files[0];  // 获取第一个选中的文件

            $(target).closest('fieldset').find('div > span').text(file.name)
            $(target).closest('fieldset').find('div > svg').hide()
            $(target).closest('fieldset').find('div > svg.file').show()
            $('#form button').attr('disabled', true)

            async function basicUpload(params) {
                const baseUrl = "https://api.bytescale.com";
                const path = `/v2/accounts/${params.accountId}/uploads/binary`;
                const entries = obj => Object.entries(obj).filter(([, val]) => (val ?? null) !== null);
                const query = entries(params.querystring ?? {})
                    .flatMap(([k, v]) => Array.isArray(v) ? v.map(v2 => [k, v2]) : [[k, v]])
                    .map(kv => kv.join("=")).join("&");
                const response = await fetch(`${baseUrl}${path}${query.length > 0 ? "?" : ""}${query}`, {
                    method: "POST",
                    body: params.requestBody,
                    headers: Object.fromEntries(entries({
                        "Authorization": `Bearer ${params.apiKey}`,
                        "X-Upload-Metadata": JSON.stringify(params.metadata)
                    }))
                });
                const result = await response.json();
                if (Math.floor(response.status / 100) !== 2)
                    throw new Error(`Bytescale API Error: ${JSON.stringify(result)}`);
                return result;
            }

            basicUpload({
                accountId: "G22nhZb",
                apiKey: "public_G22nhZbAhBrrK5kev32GDnAwWTVc",
                requestBody: new Blob( // Or: pass a 'file' object from an input element.
                    [file],
                    { type: file.type }
                ),
            }).then(
                response => {
                    $(target).attr('data-file-url', response.fileUrl)
                },
                error => console.error(error)
            ).finally(() => {
                $('#form button').attr('disabled', false)
            })
        });
</script>